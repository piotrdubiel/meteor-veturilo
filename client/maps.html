<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">

<title>V</title>

<link href="/stations.html" rel="import">

<style>
html,
body {
    height: 100%;
    margin: 0;
    background-color: #E5E5E5;
    font-family: 'RobotoDraft', sans-serif;
}
core-header-panel {
    height: 100%;
}

core-toolbar {
    background: #56BA89;
    background-image: none;
}
</style>

</head>

<body>
<core-header-panel>
{{> navigation }}
{{> stations }}
</core-header-panel>
</body>

<template name="stations">
    <core-animated-pages selected="0" transitions="hero-transition" on-core-animated-pages-transition-prepare="{{ prepare }}" layout vertical fit>
        <section>
            <div class="container">
                {{#each list }}
                    {{> station }}
                {{/each}}
            </div>
        </section>
        <section id="details">
            <station-detail
                id="detail"
                hero
                hero-id="{{ selected.uid }}"
                name="{{ selected.name }}"
                bikes="{{ selected.bikes }}"
                bike_numbers="{{ selected.bike_numbers }}"
                latitude="{{ selected.location[1] }}"
                longitude="{{ selected.location[0] }}"
                url="http://maps.google.com/maps?q={{ selected.location[1] }},{{ selected.location[0] }}({{ selected.name }})">
                <core-icon-button id="close" icon="clear"></core-icon-button>
            </station-detail>
        </section>
    </core-animated-pages>
</template>

<template name="station">
    <station-card
        hero-id="{{ uid }}" 
        hero?="{{ is_selected }}"
        name="{{ name }}"
        bikes="{{ bikes }}"
        url="http://maps.google.com/maps?q={{ latitude }},{{ longitude }}({{ name }})">
    </station-card>
</template>

<template name="navigation">
<core-toolbar layout horizontal end-justified>
<search-input class="transparent" flex></search-input>
</core-toolbar>
</template>
